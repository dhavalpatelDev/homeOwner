<!DOCTYPE html>
<html lang="en">
<head>
 <% include partials/head %> 
</head>
<body>
<% include partials/menu %>
<div class="container-fluid bg-3 text-center">    
  <h3>EditPage</h3><br>
  <div class="row">
      <div class="container" style="margin-top:20px;">
        <div class="card-body">

				
            <form action="/update" method="post">
                <input type="hidden" name="_id" value = "<%= data[0]._id %>">
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Id</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="id" name="id" value="<%= data[0].id %>" aria-describedby="emailHelp" readonly></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">First Name</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="first_name" name="first_name" value="<%= data[0].first_name %>" aria-describedby="emailHelp"></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Last Name</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="last_name" name="last_name" value="<%= data[0].last_name %>" aria-describedby="emailHelp"></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Contact No</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="contact_no" name="contact_no" value="<%= data[0].contact_no %>" aria-describedby="emailHelp" pattern="[0-9]{1,10}" title="Between 1 - 10 digits"></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Email</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="email" class="form-control" id="email" name="email" value="<%= data[0].email %>" aria-describedby="emailHelp"></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Street</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="street" name="street" value="<%= data[0]['address'].street %>" aria-describedby="emailHelp" ></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">City</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="city" name="city" value="<%= data[0]['address'].city %>" aria-describedby="emailHelp" ></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">State</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="state" name="state" value="<%= data[0]['address'].state %>" aria-describedby="emailHelp" ></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">PostalCode</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="postal_code" name="postal_code" value="<%= data[0]['address'].postal_code %>" aria-describedby="emailHelp" ></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Country</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="country" name="country" value="<%= data[0]['address'].country %>" aria-describedby="emailHelp" ></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Latitude</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="latitude" name="latitude" value="<%= data[0].latitude %>" aria-describedby="emailHelp" readonly></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Longitude</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="longitude" name="longitude" value="<%= data[0].longitude %>" aria-describedby="emailHelp" readonly></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Date of Birth</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="birthday" name="birthday" value="<%= new Date(data[0].birthday).getFullYear() %>-<%= ('0' + (new Date(data[0].birthday).getMonth()+1)).slice(-2) %>-<%= ('0' + (new Date(data[0].birthday).getDate())).slice(-2) %>" ></div>
                </div>
                <div class="form-group row text-center">
                    <div class="col-md-2"><label for="exampleInputEmail1">Age</label></div>
                    <div class="col-md-9 col-md-offset-1"><input type="text" class="form-control" id="age" name="age" value="<%= data[0].age %>" aria-describedby="emailHelp" readonly></div>
                </div>
                <div class="table-action-row">
                    <button class="btn btn-primary">Update</button>
                </div>
            </form>
            


        </div>
      </div>


  </div>
</div>
</body>
<% include partials/script %>
<script>
// $("#birthday").datepicker({
//     maxDate: 0
// });

// $( "#birthday" ).datepicker({dateFormat: "mm/dd/yyyy",  maxDate: new Date() });

var currentDate = new Date();
$('#birthday').datepicker({
format: 'yyyy-mm-dd',
autoclose:true,
endDate: "currentDate",
maxDate: currentDate
}).on('changeDate', function (ev) {
    $(this).datepicker('hide');
});
$('#birthday').keyup(function () {
    if (this.value.match(/[^0-9]/g)) {
        this.value = this.value.replace(/[^0-9^-]/g, '');
    }
});
</script>
</html>
